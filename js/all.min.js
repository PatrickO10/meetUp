!function(){"use strict";angular.module("app",["app.dashboard","app.login","app.fbAuth","app.event","app.register","ngMessages"]).constant("FBURL","https://vivid-torch-762.firebaseio.com/")}(),function(){"use strict";angular.module("app.dashboard",["firebase"])}(),function(){"use strict";angular.module("app.event",[])}(),function(){"use strict";angular.module("app.fbAuth",["firebase"])}(),function(){"use strict";angular.module("app.login",["firebase"])}(),function(){"use strict";angular.module("app.register",[])}(),function(){"use strict";function e(e,t){function r(r){r?(console.log("User is logged in with "+r.provider),n.eventsRef=e.setEventRef(r.uid),n.eventsArray=t(n.eventsRef),n.loggedStatus=!0):console.log("User is logged out")}var n=this;n.eventsRef="",n.logOut=function(){e.logOutUser(),n.loggedStatus=!1},n.removeEvent=function(t){e.removeEvent(t,n.eventsRef)},e.setOnAuth(r),$(".signUp, .newEvent, .login").on("shown.bs.modal",function(){$("#fname").focus(),$("#eName").focus(),$("#logEmail").focus()})}angular.module("app.dashboard").controller("MainCtrl",e),e.$inject=["authService","$firebaseArray"]}(),function(){"use strict";function e(e){var t=this;t.masterEvent={};var r=document.getElementById("loc-input");t.eventLoc="",t.autocomplete=new google.maps.places.Autocomplete(r),t.autocomplete.addListener("place_changed",function(){var e=t.autocomplete.getPlace();t.eventLoc=e.formatted_address}),t.createEvent=function(r){t.masterEvent=angular.copy(r),t.userObj=e.getUserAuth(),t.userEventRef=e.setEventRef(t.userObj.uid),t.userEventRef.push({name:t.masterEvent.name,type:t.masterEvent.type,host:t.masterEvent.host,startDate:t.masterEvent.startDate.getTime(),endDate:t.masterEvent.endDate.getTime(),location:t.eventLoc,guests:t.masterEvent.guests,msg:t.masterEvent.msg||""}),r.msg="",$("#newEventForm")[0].reset(),$(".newEvent").modal("hide")}}angular.module("app.event").controller("EventCtrl",e),e.$inject=["authService"]}(),function(){"use strict";function e(e,t,r){var n=this;n.masterUser={},e.loginError=!1,e.loginErrMsg="",n.login=function(t){n.masterUser=angular.copy(t),r.loginWithPwd(n.masterUser).then(function(t){e.loginError=!1,e.loginErrMsg="",$("#loginForm")[0].reset(),$(".login").modal("hide")},function(t){switch(e.loginError=!0,t.code){case"EMAIL_TAKEN":e.loginErrMsg="Error: The specified email is taken";break;case"INVALID_EMAIL":e.loginErrMsg="Error: The email you entered is invalid";break;case"INVALID_PASSWORD":e.loginErrMsg="Error: The specified password is incorrect.";break;case"INVALID_USER":e.loginErrMsg="Error: The specified user does not exist.";break;default:e.loginErrMsg="Error: "+t.code}})}}angular.module("app.login").controller("LoginCtrl",e),e.$inject=["$scope","$rootScope","authService"]}(),function(){"use strict";function e(e){var t=this;t.charLen=!1,t.symbols=!1,t.missNumber=!1,t.lowerCase=!1,t.upperCase=!1,t.pwdsMatch=!1,t.registerErr=!1,t.registerErrMsg="",t.signUp=function(r){t.newUserObj=angular.copy(r);var n="",s="";t.newUserObj.birthday&&(n=t.newUserObj.birthday.toLocaleDateString()),t.newUserObj.gender&&(s=t.newUserObj.gender),t.userObject={email:t.newUserObj.email,password:t.newUserObj.password,name:t.newUserObj.fname,gender:s,birthday:n},e.createUser(t.userObject).then(function(e){t.registerErr=!1,t.registerErrMsg="",t.charLen=!1,t.symbols=!1,t.missNumber=!1,t.lowerCase=!1,t.upperCase=!1,t.pwdsMatch=!1;for(var n in r)r[n]="";$("#signUpForm")[0].reset(),$(".signUp").modal("hide")},function(e){t.registerErr=!0,t.registerErrMsg+=e})},t.checkPassword=function(){var e=document.getElementById("fPassword"),r=e.value,n=document.getElementById("sPassword"),s=n.value;t.charLen=/^[A-Za-z0-9\!\@\#\$\%\^\&\*]{8,50}/.test(r),t.symbols=/[\!\@\#\$\%\^\&\*]/g.test(r),t.missNumber=/\d/g.test(r),t.lowerCase=/[a-z]/g.test(r),t.upperCase=/[A-Z]/g.test(r),t.pwdsMatch=r===s?!0:!1}}angular.module("app.register").controller("RegisterCtrl",e),e.$inject=["authService"]}(),function(){"use strict";function e(e,t,r){function n(e,t){var r={email:t.email,name:t.name,gender:t.gender||"",birthday:t.birthday||""};g.child("users").child(e.uid).set(r)}function s(){return g.getAuth()}function o(e,t){var n=r.defer();return g.authWithPassword(e,function(r,s){r?n.reject(r):n.resolve(s),t&&t(s,e)}),n.promise}function a(e,t){var s=r.defer();return g.createUser(e,function(t,r){t?s.reject(t):(s.resolve(r),o(e,function(t){n(t,e)}))}),s.promise}function i(e){var t=g.child("users").child(e).child("events");return t}function u(e,t){var r=t.child(e);r.remove()}function c(e){g.onAuth(e)}function l(){g.unauth()}var g=new Firebase(t),d={saveNewUser:n,getUserAuth:s,createUser:a,loginWithPwd:o,setEventRef:i,setOnAuth:c,logOutUser:l,removeEvent:u};return d}angular.module("app.fbAuth").factory("authService",e),e.$inject=["$firebase","FBURL","$q"]}();